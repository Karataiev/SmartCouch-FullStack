# üîß –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏ "–ü–∞—Ä–æ–ª—å –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π"

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –≤–≤–µ–¥–µ–Ω–Ω—ñ –∫–æ–¥—É –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø—ñ–¥ —á–∞—Å —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –≤–∏–Ω–∏–∫–∞–ª–∞ –ø–æ–º–∏–ª–∫–∞:
```
User validation failed: password: –ü–∞—Ä–æ–ª—å –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π
```

## –ü—Ä–∏—á–∏–Ω–∞

–ú–æ–¥–µ–ª—å `User` –º–∞–ª–∞ –ø–æ–ª–µ `password` —è–∫ –æ–±–æ–≤'—è–∑–∫–æ–≤–µ (`required: true`), –∞–ª–µ –ø—Ä–∏ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∫–æ–¥—É —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–µ–∑ –ø–∞—Ä–æ–ª—è (–ø–∞—Ä–æ–ª—å –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—ñ–∑–Ω—ñ—à–µ –≤ `create-password`).

## –†—ñ—à–µ–Ω–Ω—è

### 1. –ó—Ä–æ–±–ª–µ–Ω–æ `password` –Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º –≤ –º–æ–¥–µ–ª—ñ

**–§–∞–π–ª:** `server/src/models/User.model.ts`

- –ó–º—ñ–Ω–µ–Ω–æ `required: true` –Ω–∞ `required: false`
- –î–æ–¥–∞–Ω–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é —á–µ—Ä–µ–∑ `validate` –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—ó –¥–æ–≤–∂–∏–Ω–∏ (—è–∫—â–æ –ø–∞—Ä–æ–ª—å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π)
- –û–Ω–æ–≤–ª–µ–Ω–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IUser`: `password?: string`

### 2. –î–æ–¥–∞–Ω–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ `createPassword`

**–§–∞–π–ª:** `server/src/controllers/auth.controller.ts`

–î–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É, —â–æ –ø–∞—Ä–æ–ª—å –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ:
```typescript
if (!password || password.trim().length === 0) {
  res.status(400).json({
    success: false,
    message: '–ü–∞—Ä–æ–ª—å –æ–±–æ–≤\'—è–∑–∫–æ–≤–∏–π',
  });
  return;
}
```

### 3. –î–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ `login`

–î–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É, —â–æ —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –ø–∞—Ä–æ–ª—å:
```typescript
if (!user.password) {
  res.status(400).json({
    success: false,
    message: '–ü–∞—Ä–æ–ª—å –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ. –°–ø–æ—á–∞—Ç–∫—É —Å—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞—Ä–æ–ª—å —á–µ—Ä–µ–∑ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é.',
  });
  return;
}
```

## –©–æ –∑–º—ñ–Ω–∏–ª–æ—Å—è

### –î–æ:
- ‚ùå –ü–∞—Ä–æ–ª—å –±—É–≤ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º –ø–æ–ª–µ–º –≤ –º–æ–¥–µ–ª—ñ
- ‚ùå –ù–µ–º–æ–∂–ª–∏–≤–æ –±—É–ª–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –±–µ–∑ –ø–∞—Ä–æ–ª—è
- ‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∫–æ–¥—É —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó

### –ü—ñ—Å–ª—è:
- ‚úÖ –ü–∞—Ä–æ–ª—å –Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π –≤ –º–æ–¥–µ–ª—ñ
- ‚úÖ –ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –±–µ–∑ –ø–∞—Ä–æ–ª—è (–ø—ñ—Å–ª—è –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó)
- ‚úÖ –ü–∞—Ä–æ–ª—å –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –≤ `create-password`
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–∞—Ä–æ–ª—è –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –ø–∞—Ä–æ–ª—è –ø—Ä–∏ –≤—Ö–æ–¥—ñ

## –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   cd server
   # –ó—É–ø–∏–Ω—ñ—Ç—å –ø–æ—Ç–æ—á–Ω–∏–π —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
   npm run dev
   ```

2. **–ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é:**
   - –í–≤–µ–¥—ñ—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É
   - –û—Ç—Ä–∏–º–∞–π—Ç–µ SMS –∫–æ–¥
   - –í–≤–µ–¥—ñ—Ç—å –∫–æ–¥ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
   - –°—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞—Ä–æ–ª—å

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ MongoDB:**
   ```javascript
   db.users.find({ phone: "+380981234567" }).pretty();
   ```
   
   –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –±—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –∑ `isVerified: true` —Ç–∞ –±–µ–∑ `password` –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è.

## –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏

1. **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è (`/register`):**
   - –í—ñ–¥–ø—Ä–∞–≤–∫–∞ SMS –∫–æ–¥—É
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ù–ï —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è

2. **–í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ–¥—É (`/verify-code`):**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É
   - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ë–ï–ó –ø–∞—Ä–æ–ª—è
   - `isVerified: true`

3. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—é (`/create-password`):**
   - –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—é
   - –•–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—é
   - –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

4. **–í—Ö—ñ–¥ (`/login`):**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –ø–∞—Ä–æ–ª—è
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—ñ –ø–∞—Ä–æ–ª—é
   - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–æ–∫–µ–Ω—ñ–≤

---

**–ü—Ä–æ–±–ª–µ–º—É –≤–∏—Ä—ñ—à–µ–Ω–æ! ‚úÖ**

