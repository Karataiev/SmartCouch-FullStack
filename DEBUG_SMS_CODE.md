# üîç –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º–∏ –∑ SMS –∫–æ–¥–æ–º

## –©–æ –∑—Ä–æ–±–ª–µ–Ω–æ

1. ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–æ –≤–∏–≤—ñ–¥ –∫–æ–¥—É –≤ –∫–æ–Ω—Å–æ–ª—å (–±—ñ–ª—å—à –ø–æ–º—ñ—Ç–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç)
2. ‚úÖ –î–æ–¥–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –Ω–∞ –∫–æ–∂–Ω–æ–º—É –µ—Ç–∞–ø—ñ
3. ‚úÖ –î–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

## –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä

```bash
cd server
# –ó—É–ø–∏–Ω—ñ—Ç—å –ø–æ—Ç–æ—á–Ω–∏–π —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
npm run dev
```

### 2. –°–ø—Ä–æ–±—É–π—Ç–µ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∑–∞–ø–∏—Ç

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–æ–¥–∞—Ç–æ–∫ —Ç–∞ —Å–ø—Ä–æ–±—É–π—Ç–µ "–ó–∞–±—É—Ç–∏ –ø–∞—Ä–æ–ª—å" –∑ –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω—É.

### 3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞

–í–∏ –º–∞—î—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –æ–¥–∏–Ω –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤:

#### ‚úÖ –Ø–∫—â–æ –≤—Å–µ –ø—Ä–∞—Ü—é—î:
```
==================================================
üì± SMS –ö–û–î –í–ï–†–ò–§–Ü–ö–ê–¶–Ü–á
üìû –ù–æ–º–µ—Ä: +380501234567
üîë –ö–æ–¥: 123456
==================================================
```

#### ‚ö†Ô∏è –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–µ–º–∞—î:
```
‚ö†Ô∏è –°–ø—Ä–æ–±–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—é –¥–ª—è –Ω–µ—ñ—Å–Ω—É—é—á–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```

#### ‚ùå –Ø–∫—â–æ rate limiting:
```
–ü–µ—Ä–µ–≤–∏—â–µ–Ω–æ –ª—ñ–º—ñ—Ç SMS. –ú–∞–∫—Å–∏–º—É–º 3 SMS –Ω–∞ –≥–æ–¥–∏–Ω—É.
```

## –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–µ–º–∞—î –≤ –ë–î

**–°–∏–º–ø—Ç–æ–º:** –í –∫–æ–Ω—Å–æ–ª—ñ –∑'—è–≤–ª—è—î—Ç—å—Å—è "‚ö†Ô∏è –°–ø—Ä–æ–±–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—é –¥–ª—è –Ω–µ—ñ—Å–Ω—É—é—á–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞"

**–†—ñ—à–µ–Ω–Ω—è:**
1. –°–ø–æ—á–∞—Ç–∫—É –∑–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —á–µ—Ä–µ–∑ `/api/v1/auth/register`
2. –ê–±–æ —Å—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤—Ä—É—á–Ω—É –≤ MongoDB

**–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:**
```bash
# –í—ñ–¥–∫—Ä–∏–π—Ç–µ MongoDB Compass –∞–±–æ mongosh
# –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –ø–∞—Ä–æ–ª–µ–º
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Rate limiting

**–°–∏–º–ø—Ç–æ–º:** –ü–æ–º–∏–ª–∫–∞ "–ü–µ—Ä–µ–≤–∏—â–µ–Ω–æ –ª—ñ–º—ñ—Ç SMS"

**–†—ñ—à–µ–Ω–Ω—è:**
- –ó–∞—á–µ–∫–∞–π—Ç–µ 1 –≥–æ–¥–∏–Ω—É
- –ê–±–æ –∑–º—ñ–Ω—ñ—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- –ê–±–æ –æ—á–∏—Å—Ç—ñ—Ç—å –∫–æ–¥–∏ –≤ –ë–î:
  ```javascript
  // –í MongoDB Compass –∞–±–æ mongosh
  db.verificationcodes.deleteMany({ phone: "+380501234567" })
  ```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ó–∞–ø–∏—Ç –Ω–µ –¥–æ—Ö–æ–¥–∏—Ç—å –¥–æ —Å–µ—Ä–≤–µ—Ä–∞

**–°–∏–º–ø—Ç–æ–º:** –ù—ñ—á–æ–≥–æ –Ω–µ –∑'—è–≤–ª—è—î—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—ñ

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω–∏–π:
   ```bash
   curl http://localhost:3000/health
   ```

2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ API URL –≤ –¥–æ–¥–∞—Ç–∫—É:
   - Android: `http://10.0.2.2:3000`
   - iOS: `http://localhost:3000`

3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `server/.env`:
   ```env
   CORS_ORIGIN=http://localhost:3000,http://10.0.2.2:3000,http://127.0.0.1:3000
   ```

4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –ø–æ–º–∏–ª–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ö–æ–¥ –Ω–µ –≤–∏–≤–æ–¥–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ pino logger

**–†—ñ—à–µ–Ω–Ω—è:** –ö–æ–¥ —Ç–µ–ø–µ—Ä –≤–∏–≤–æ–¥–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ `console.log`, —è–∫–∏–π –∑–∞–≤–∂–¥–∏ –ø—Ä–∞—Ü—é—î, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ pino logger –Ω–µ –ø–æ–∫–∞–∑—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ cURL

–Ø–∫—â–æ –¥–æ–¥–∞—Ç–æ–∫ –Ω–µ –ø—Ä–∞—Ü—é—î, –ø—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ —á–µ—Ä–µ–∑ cURL:

```bash
curl -X POST http://localhost:3000/api/v1/auth/forgot-password \
  -H "Content-Type: application/json" \
  -d '{"phone": "+380501234567"}'
```

**–û—á—ñ–∫—É–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "message": "–ö–æ–¥ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É",
  "code": "123456"
}
```

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞** - —Ç–∞–º –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è –∫–æ–¥!

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ MongoDB

```javascript
// –ü–µ—Ä–µ–≥–ª—è–¥ –∫–æ–¥—ñ–≤ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
db.verificationcodes.find().pretty();

// –ü–µ—Ä–µ–≥–ª—è–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
db.users.find().pretty();

// –û—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –∫–æ–¥—ñ–≤
db.verificationcodes.deleteMany({ expiresAt: { $lt: new Date() } });
```

## –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä
2. –°–ø—Ä–æ–±—É–π—Ç–µ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∑–∞–ø–∏—Ç
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞
4. –Ø–∫—â–æ –∫–æ–¥ –Ω–µ –∑'—è–≤–ª—è—î—Ç—å—Å—è - –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤–∏—â–µ

---

**–í–∞–∂–ª–∏–≤–æ:** –ö–æ–¥ –≤–∏–≤–æ–¥–∏—Ç—å—Å—è **—Ç—ñ–ª—å–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ —Å–µ—Ä–≤–µ—Ä–∞**, –Ω–µ –≤ –∫–æ–Ω—Å–æ–ª—ñ –¥–æ–¥–∞—Ç–∫—É!

