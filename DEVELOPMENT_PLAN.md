# –ü–ª–∞–Ω —Ä–æ–∑—Ä–æ–±–∫–∏ SmartCoach Backend

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

- **Runtime**: Node.js
- **Framework**: Express.js
- **Language**: TypeScript
- **Database**: MongoDB
- **ODM**: Mongoose
- **Authentication**: JWT (jsonwebtoken)
- **Validation**: Joi / Zod
- **Security**: bcrypt, helmet, express-rate-limit
- **Logging**: Winston / Pino
- **Testing**: Jest + Supertest

---

## üìÅ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
SmartCouch-FullStack/
‚îú‚îÄ‚îÄ client/                    # React Native –¥–æ–¥–∞—Ç–æ–∫ (–ø–æ—Ç–æ—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
‚îÇ   ‚îî‚îÄ‚îÄ (–≤—Å—ñ –ø–æ—Ç–æ—á–Ω—ñ —Ñ–∞–π–ª–∏)
‚îÇ
‚îú‚îÄ‚îÄ server/                    # Backend API
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/           # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.ts    # –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è MongoDB
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ env.ts        # –í–∞–ª—ñ–¥–∞—Ü—ñ—è env –∑–º—ñ–Ω–Ω–∏—Ö
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logger.ts     # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/       # –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ (–æ–±—Ä–æ–±–∫–∞ –∑–∞–ø–∏—Ç—ñ–≤)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.controller.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.controller.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clients.controller.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ programs.controller.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ workoutPlans.controller.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/           # Mongoose –º–æ–¥–µ–ª—ñ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ User.model.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Client.model.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Program.model.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WorkoutPlan.model.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RefreshToken.model.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/           # API –º–∞—Ä—à—Ä—É—Ç–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts      # –û–±'—î–¥–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö —Ä–æ—É—Ç—ñ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.routes.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.routes.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clients.routes.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ programs.routes.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ workoutPlans.routes.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/       # Middleware
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.middleware.ts      # JWT –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validation.middleware.ts # –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ error.middleware.ts     # –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rateLimiter.middleware.ts # Rate limiting
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logger.middleware.ts    # –õ–æ–≥—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/         # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.service.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sms.service.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clients.service.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ programs.service.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ workoutPlans.service.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/           # –£—Ç–∏–ª—ñ—Ç–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ jwt.util.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ password.util.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ errors.util.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validators.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/           # TypeScript —Ç–∏–ø–∏/—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ express.d.ts  # –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è Express types
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.types.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.types.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ common.types.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.ts           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É Express
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ tests/               # –¢–µ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ integration/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ e2e/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ .env.example
‚îÇ   ‚îú‚îÄ‚îÄ .gitignore
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îÇ
‚îî‚îÄ‚îÄ README.md
```

---

## üéØ –ü–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø–ª–∞–Ω —Ä–æ–∑—Ä–æ–±–∫–∏

### –ï—Ç–∞–ø 1: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ (–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –í–ò–°–û–ö–ò–ô)

#### 1.1 –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ø—Ä–æ–µ–∫—Ç—É

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–∞–ø–∫—É `server/`
- [ ] –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ npm –ø—Ä–æ–µ–∫—Ç
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ TypeScript (tsconfig.json)
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ ESLint + Prettier –¥–ª—è TypeScript
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ `.gitignore` –¥–ª—è server

#### 1.2 –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

- [ ] Express.js —Ç–∞ —Ç–∏–ø–∏
- [ ] Mongoose —Ç–∞ —Ç–∏–ø–∏
- [ ] TypeScript —Ç–∞ ts-node
- [ ] Nodemon –¥–ª—è development
- [ ] JWT (jsonwebtoken)
- [ ] Bcrypt –¥–ª—è —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤
- [ ] Joi –∞–±–æ Zod –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- [ ] Helmet –¥–ª—è –±–µ–∑–ø–µ–∫–∏
- [ ] Express-rate-limit
- [ ] CORS
- [ ] Winston/Pino –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
- [ ] Dotenv –¥–ª—è env –∑–º—ñ–Ω–Ω–∏—Ö
- [ ] Jest + Supertest –¥–ª—è —Ç–µ—Å—Ç—ñ–≤

#### 1.3 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ `.env.example` –∑ —É—Å—ñ–º–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º–∏ –∑–º—ñ–Ω–Ω–∏–º–∏
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é env –∑–º—ñ–Ω–Ω–∏—Ö (env.ts)
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB (database.ts)
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è (logger.ts)
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑–æ–≤–∏–π Express app (app.ts)
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ middleware –¥–ª—è –±–µ–∑–ø–µ–∫–∏ (helmet, CORS, rate limiting)

#### 1.4 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è TypeScript

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ tsconfig.json –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ paths –¥–ª—è —ñ–º–ø–æ—Ä—Ç—ñ–≤ (@/controllers, @/models, —Ç–æ—â–æ)
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑–æ–≤—ñ —Ç–∏–ø–∏ –¥–ª—è Express (express.d.ts)

---

### –ï—Ç–∞–ø 2: –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –í–ò–°–û–ö–ò–ô)

#### 2.1 –ú–æ–¥–µ–ª—ñ —Ç–∞ —Å—Ö–µ–º–∏

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ User.model.ts (Mongoose schema)
  - phone (unique, required)
  - password (hashed, required)
  - name, surname, email, birthday, experience, city
  - avatar (URL)
  - isVerified (boolean)
  - createdAt, updatedAt
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ RefreshToken.model.ts
  - userId (ref to User)
  - token (unique)
  - expiresAt
  - deviceInfo (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

#### 2.2 –£—Ç–∏–ª—ñ—Ç–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

- [ ] jwt.util.ts - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è JWT —Ç–æ–∫–µ–Ω—ñ–≤
- [ ] password.util.ts - —Ö–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–∞—Ä–æ–ª—ñ–≤ (bcrypt)

#### 2.3 –í–∞–ª—ñ–¥–∞—Ü—ñ—è

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ Joi/Zod —Å—Ö–µ–º–∏ –¥–ª—è:
  - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è (–Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É)
  - –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ–¥—É
  - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—é
  - –õ–æ–≥—ñ–Ω

#### 2.4 SMS —Å–µ—Ä–≤—ñ—Å

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ sms.service.ts
- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ SMS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º (Twilio/—ñ–Ω—à–∏–π)
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∫–æ–¥—ñ–≤ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–æ–¥—ñ–≤ (TTL –¥–ª—è –∫–æ–¥—ñ–≤)

#### 2.5 –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ —Ç–∞ —Ä–æ—É—Ç–∏

- [ ] POST `/api/auth/register` - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è (–Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É)
  - –í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–æ–º–µ—Ä–∞
  - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è SMS –∫–æ–¥—É
  - –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∏–º—á–∞—Å–æ–≤–æ–≥–æ –∫–æ–¥—É (Redis –∞–±–æ MongoDB –∑ TTL)
- [ ] POST `/api/auth/verify-code` - –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è SMS –∫–æ–¥—É
  - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É
  - –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è isVerified = true
- [ ] POST `/api/auth/create-password` - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—é
  - –•–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—é
  - –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
  - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è JWT —Ç–æ–∫–µ–Ω—ñ–≤
- [ ] POST `/api/auth/login` - –í—Ö—ñ–¥
  - –í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–æ–º–µ—Ä—É —Ç–∞ –ø–∞—Ä–æ–ª—é
  - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–∞—Ä–æ–ª—é
  - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è access + refresh —Ç–æ–∫–µ–Ω—ñ–≤
- [ ] POST `/api/auth/refresh-token` - –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—É
  - –í–∞–ª—ñ–¥–∞—Ü—ñ—è refresh —Ç–æ–∫–µ–Ω—É
  - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –Ω–æ–≤–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤
- [ ] POST `/api/auth/logout` - –í–∏—Ö—ñ–¥
  - –í–∏–¥–∞–ª–µ–Ω–Ω—è refresh —Ç–æ–∫–µ–Ω—É

#### 2.6 Middleware

- [ ] auth.middleware.ts - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ JWT —Ç–æ–∫–µ–Ω—É
  - –í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—É –∑ header
  - –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–æ–∫–µ–Ω—É
  - –î–æ–¥–∞–≤–∞–Ω–Ω—è user –≤ req.user
- [ ] –ó–∞—Ö–∏—Å—Ç —Ä–æ—É—Ç—ñ–≤ middleware

#### 2.7 –ë–µ–∑–ø–µ–∫–∞

- [ ] Rate limiting –¥–ª—è auth —Ä–æ—É—Ç—ñ–≤ (–∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ brute-force)
- [ ] –û–±–º–µ–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ SMS –Ω–∞ –Ω–æ–º–µ—Ä
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- [ ] Sanitization –¥–∞–Ω–∏—Ö

---

### –ï—Ç–∞–ø 3: –ü—Ä–æ—Ñ—ñ–ª—å —Ç—Ä–µ–Ω–µ—Ä–∞ (–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –°–ï–†–ï–î–ù–Ü–ô)

#### 3.1 –ú–æ–¥–µ–ª—å

- [ ] –û–Ω–æ–≤–∏—Ç–∏ User.model.ts (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

#### 3.2 –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ —Ç–∞ —Ä–æ—É—Ç–∏

- [ ] GET `/api/user/profile` - –û—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
- [ ] PUT `/api/user/profile` - –û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
- [ ] POST `/api/user/avatar` - –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∞–≤–∞—Ç–∞—Ä (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
- [ ] DELETE `/api/user/account` - –í–∏–¥–∞–ª–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç (–∑–∞—Ö–∏—â–µ–Ω–∏–π)

#### 3.3 –í–∞–ª—ñ–¥–∞—Ü—ñ—è

- [ ] –°—Ö–µ–º–∏ –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–∞–π–ª—ñ–≤ (—Ä–æ–∑–º—ñ—Ä, —Ç–∏–ø)

---

### –ï—Ç–∞–ø 4: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞–º–∏ (–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –í–ò–°–û–ö–ò–ô)

#### 4.1 –ú–æ–¥–µ–ª—å

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ Client.model.ts
  - trainerId (ref to User, required)
  - name, surname, phone (required)
  - connectionMethods: Array<{type, link, icon}>
  - targetAndWishes, stateOfHealth, levelOfPhysical, notes
  - program: Object (reference to Program)
  - parameters: Array<Object>
  - createdAt, updatedAt
  - –Ü–Ω–¥–µ–∫—Å–∏ –¥–ª—è trainerId

#### 4.2 –í–∞–ª—ñ–¥–∞—Ü—ñ—è

- [ ] –°—Ö–µ–º–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ—è connectionMethods

#### 4.3 –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ —Ç–∞ —Ä–æ—É—Ç–∏

- [ ] GET `/api/clients` - –°–ø–∏—Å–æ–∫ –∫–ª—ñ—î–Ω—Ç—ñ–≤ (–∑–∞—Ö–∏—â–µ–Ω–∏–π, —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó)
  - –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è
  - –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è/–ø–æ—à—É–∫
- [ ] GET `/api/clients/:id` - –î–µ—Ç–∞–ª—ñ –∫–ª—ñ—î–Ω—Ç–∞ (–∑–∞—Ö–∏—â–µ–Ω–∏–π, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–ª–∞—Å–Ω–∏–∫–∞)
- [ ] POST `/api/clients` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞ (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
- [ ] PUT `/api/clients/:id` - –û–Ω–æ–≤–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞ (–∑–∞—Ö–∏—â–µ–Ω–∏–π, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–ª–∞—Å–Ω–∏–∫–∞)
- [ ] DELETE `/api/clients/:id` - –í–∏–¥–∞–ª–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞ (–∑–∞—Ö–∏—â–µ–Ω–∏–π, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–ª–∞—Å–Ω–∏–∫–∞)

#### 4.4 –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–æ—É—Ç–∏

- [ ] PUT `/api/clients/:id/parameters` - –û–Ω–æ–≤–∏—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- [ ] PUT `/api/clients/:id/program` - –ü—Ä–∏–∑–Ω–∞—á–∏—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É
- [ ] GET `/api/clients/:id/trainings` - –¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞

#### 4.5 –ë–µ–∑–ø–µ–∫–∞

- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–ª–∞—Å–Ω–∏–∫–∞ –∫–ª—ñ—î–Ω—Ç–∞ (middleware –∞–±–æ –≤ —Å–µ—Ä–≤—ñ—Å—ñ)
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö –¥–∞–Ω–∏—Ö
- [ ] –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ injection –∞—Ç–∞–∫

---

### –ï—Ç–∞–ø 5: –ü—Ä–æ–≥—Ä–∞–º–∏ —Ç—Ä–µ–Ω—É–≤–∞–Ω—å (–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –°–ï–†–ï–î–ù–Ü–ô)

#### 5.1 –ú–æ–¥–µ–ª—å

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ Program.model.ts
  - trainerId (ref to User, required)
  - title, description (required)
  - exercises: Array<Object>
  - isTemplate: Boolean
  - createdAt, updatedAt
  - –Ü–Ω–¥–µ–∫—Å–∏ –¥–ª—è trainerId

#### 5.2 –í–∞–ª—ñ–¥–∞—Ü—ñ—è

- [ ] –°—Ö–µ–º–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏

#### 5.3 –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ —Ç–∞ —Ä–æ—É—Ç–∏

- [ ] GET `/api/programs` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–≥—Ä–∞–º (–∑–∞—Ö–∏—â–µ–Ω–∏–π, —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó)
- [ ] GET `/api/programs/:id` - –î–µ—Ç–∞–ª—ñ –ø—Ä–æ–≥—Ä–∞–º–∏ (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
- [ ] POST `/api/programs` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
- [ ] PUT `/api/programs/:id` - –û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
- [ ] DELETE `/api/programs/:id` - –í–∏–¥–∞–ª–∏—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
- [ ] GET `/api/programs/templates` - –°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω—ñ–≤
- [ ] POST `/api/programs/:id/clone` - –ö–ª–æ–Ω—É–≤–∞—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É

---

### –ï—Ç–∞–ø 6: –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Ç—Ä–µ–Ω—É–≤–∞–Ω—å (–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –í–ò–°–û–ö–ò–ô)

#### 6.1 –ú–æ–¥–µ–ª—å

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ WorkoutPlan.model.ts
  - trainerId (ref to User, required)
  - clientId (ref to Client, required)
  - trainingName, trainingType, location
  - trainingDate: Array<Date> (–¥–ª—è –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏—Ö)
  - occurrences: Array<{
    id: String,
    slotId: String,
    trainingDate: Date
    }>
  - createdAt, updatedAt
  - –Ü–Ω–¥–µ–∫—Å–∏ –¥–ª—è trainerId, clientId, dates

#### 6.2 –í–∞–ª—ñ–¥–∞—Ü—ñ—è

- [ ] –°—Ö–µ–º–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–ª–∞–Ω—É
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞—Ç (–Ω–µ –≤ –º–∏–Ω—É–ª–æ–º—É –¥–ª—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∏—Ö)

#### 6.3 –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ —Ç–∞ —Ä–æ—É—Ç–∏

- [ ] GET `/api/workout-plans` - –°–ø–∏—Å–æ–∫ –ø–ª–∞–Ω—ñ–≤ (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
  - Query –ø–∞—Ä–∞–º–µ—Ç—Ä–∏: date, clientId
- [ ] GET `/api/workout-plans/:id` - –î–µ—Ç–∞–ª—ñ –ø–ª–∞–Ω—É (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
- [ ] POST `/api/workout-plans` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–ª–∞–Ω (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
- [ ] PUT `/api/workout-plans/:id` - –û–Ω–æ–≤–∏—Ç–∏ –ø–ª–∞–Ω (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
- [ ] DELETE `/api/workout-plans/:id` - –í–∏–¥–∞–ª–∏—Ç–∏ –ø–ª–∞–Ω (–∑–∞—Ö–∏—â–µ–Ω–∏–π)
- [ ] DELETE `/api/workout-plans/:id/occurrence` - –í–∏–¥–∞–ª–∏—Ç–∏ –æ–∫—Ä–µ–º–µ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è

#### 6.4 –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞

- [ ] –û–±—Ä–æ–±–∫–∞ –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏—Ö —Ç—Ä–µ–Ω—É–≤–∞–Ω—å
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è occurrences
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ —á–∞—Å—É

---

### –ï—Ç–∞–ø 7: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º (–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –í–ò–°–û–ö–ò–ô)

#### 7.1 API –∫–ª—ñ—î–Ω—Ç –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ

- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ `client/src/services/api/`
  - `apiClient.ts` - –±–∞–∑–æ–≤–∏–π axios/fetch –∫–ª—ñ—î–Ω—Ç
  - `authService.ts`
  - `clientsService.ts`
  - `workoutPlansService.ts`
  - `programsService.ts`
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ interceptors:
  - –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤
  - –û–±—Ä–æ–±–∫–∞ 401 (refresh token)
  - –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

#### 7.2 –ó–∞–º—ñ–Ω–∞ –º–æ–∫—ñ–≤

- [ ] –û–Ω–æ–≤–∏—Ç–∏ `clientsThunk.js` - –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ API
- [ ] –û–Ω–æ–≤–∏—Ç–∏ `workoutPlansThunk.js` - –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ API
- [ ] –î–æ–¥–∞—Ç–∏ auth thunks –¥–ª—è Redux

---

### –ï—Ç–∞–ø 8: –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –±–µ–∑–ø–µ–∫–∏ (–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –í–ò–°–û–ö–ò–ô –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω)

#### 8.1 Middleware –±–µ–∑–ø–µ–∫–∏

- [ ] Helmet –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤
- [ ] CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (—Ç—ñ–ª—å–∫–∏ –¥–æ–∑–≤–æ–ª–µ–Ω—ñ –¥–æ–º–µ–Ω–∏)
- [ ] Rate limiting –¥–ª—è –≤—Å—ñ—Ö —Ä–æ—É—Ç—ñ–≤
- [ ] Body parser limits
- [ ] XSS –∑–∞—Ö–∏—Å—Ç
- [ ] SQL/NoSQL injection –∑–∞—Ö–∏—Å—Ç (Mongoose –≤–∂–µ –∑–∞—Ö–∏—â–∞—î, –∞–ª–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏)

#### 8.2 –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

- [ ] –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ (error.middleware.ts)
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö (Joi/Zod)
- [ ] Sanitization –¥–∞–Ω–∏—Ö
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –ø–æ–º–∏–ª–∫–∏ (–Ω–µ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω)

#### 8.3 –õ–æ–≥—É–≤–∞–Ω–Ω—è

- [ ] –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –∑–∞–ø–∏—Ç—ñ–≤
- [ ] –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫
- [ ] –õ–æ–≥—É–≤–∞–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π (auth, –≤–∏–¥–∞–ª–µ–Ω–Ω—è)
- [ ] –ù–µ –ª–æ–≥—É–≤–∞—Ç–∏ —á—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ (–ø–∞—Ä–æ–ª—ñ, —Ç–æ–∫–µ–Ω–∏)

#### 8.4 –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

- [ ] Health check endpoint
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

---

### –ï—Ç–∞–ø 9: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è (–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –°–ï–†–ï–î–ù–Ü–ô)

#### 9.1 Unit —Ç–µ—Å—Ç–∏

- [ ] –¢–µ—Å—Ç–∏ –¥–ª—è —Å–µ—Ä–≤—ñ—Å—ñ–≤
- [ ] –¢–µ—Å—Ç–∏ –¥–ª—è —É—Ç–∏–ª—ñ—Ç
- [ ] –¢–µ—Å—Ç–∏ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

#### 9.2 Integration —Ç–µ—Å—Ç–∏

- [ ] –¢–µ—Å—Ç–∏ –¥–ª—è API endpoints
- [ ] –¢–µ—Å—Ç–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- [ ] –¢–µ—Å—Ç–∏ –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü—ñ–π

#### 9.3 E2E —Ç–µ—Å—Ç–∏

- [ ] –ö—Ä–∏—Ç–∏—á–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó (—Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è ‚Üí –ª–æ–≥—ñ–Ω ‚Üí —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞)

---

## üîê –í–∏–º–æ–≥–∏ –±–µ–∑–ø–µ–∫–∏ (–æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω)

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

- ‚úÖ JWT —Ç–æ–∫–µ–Ω–∏ –∑ –∫–æ—Ä–æ—Ç–∫–∏–º —Ç–µ—Ä–º—ñ–Ω–æ–º –¥—ñ—ó (access) —Ç–∞ –¥–æ–≤–≥–∏–º (refresh)
- ‚úÖ –•–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤ (bcrypt, –º—ñ–Ω—ñ–º—É–º 10 rounds)
- ‚úÖ Rate limiting –¥–ª—è auth endpoints
- ‚úÖ –û–±–º–µ–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ SMS –Ω–∞ –Ω–æ–º–µ—Ä
- ‚úÖ TTL –¥–ª—è –∫–æ–¥—ñ–≤ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ sanitization –≤—Å—ñ—Ö –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–ª–∞—Å–Ω–∏–∫–∞ —Ä–µ—Å—É—Ä—Å—É (–∫–ª—ñ—î–Ω—Ç–∏, –ø—Ä–æ–≥—Ä–∞–º–∏, –ø–ª–∞–Ω–∏)
- ‚úÖ Middleware –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É —Ä–æ—É—Ç—ñ–≤
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è refresh —Ç–æ–∫–µ–Ω—ñ–≤

### –ó–∞—Ö–∏—Å—Ç –¥–∞–Ω–∏—Ö

- ‚úÖ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–Ω (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
- ‚úÖ Helmet –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤
- ‚úÖ CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ sanitization
- ‚úÖ –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ injection (Mongoose –∑–∞—Ö–∏—â–∞—î, –∞–ª–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏)
- ‚úÖ –ù–µ –ª–æ–≥—É–≤–∞—Ç–∏ —á—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ

### –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–æ–±–∫–∞
- ‚úÖ –ù–µ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ –ø–æ–º–∏–ª–æ–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

---

## üìä –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö (Mongoose Schemas)

### User

```typescript
{
  _id: ObjectId,
  phone: String (unique, required, index),
  password: String (hashed, required),
  name: String,
  surname: String,
  email: String,
  birthday: Date,
  experience: String,
  city: String,
  avatar: String,
  isVerified: Boolean (default: false),
  createdAt: Date,
  updatedAt: Date
}
```

### Client

```typescript
{
  _id: ObjectId,
  trainerId: ObjectId (ref: User, required, index),
  name: String (required),
  surname: String (required),
  phone: String (required),
  connectionMethods: [{
    type: String,
    link: String,
    icon: String
  }],
  targetAndWishes: String,
  stateOfHealth: String,
  levelOfPhysical: String,
  notes: String,
  program: {
    id: ObjectId (ref: Program),
    title: String,
    program: Object
  },
  parameters: [Object],
  createdAt: Date,
  updatedAt: Date
}
```

### Program

```typescript
{
  _id: ObjectId,
  trainerId: ObjectId (ref: User, required, index),
  title: String (required),
  description: String,
  exercises: [Object],
  isTemplate: Boolean (default: false),
  createdAt: Date,
  updatedAt: Date
}
```

### WorkoutPlan

```typescript
{
  _id: ObjectId,
  trainerId: ObjectId (ref: User, required, index),
  clientId: ObjectId (ref: Client, required, index),
  trainingName: String (required),
  trainingType: String,
  location: String,
  trainingDate: [Date] (index),
  occurrences: [{
    id: String,
    slotId: String,
    trainingDate: Date (index)
  }],
  createdAt: Date,
  updatedAt: Date
}
```

### RefreshToken

```typescript
{
  _id: ObjectId,
  userId: ObjectId (ref: User, required, index),
  token: String (unique, required),
  expiresAt: Date (required, index with TTL),
  deviceInfo: String,
  createdAt: Date
}
```

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

### –§–∞–∑–∞ 1: MVP (–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª)

1. **–ï—Ç–∞–ø 1** - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
2. **–ï—Ç–∞–ø 2** - –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
3. **–ï—Ç–∞–ø 4** - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞–º–∏ (–±–∞–∑–æ–≤—ñ CRUD)
4. **–ï—Ç–∞–ø 7.1** - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è API –∫–ª—ñ—î–Ω—Ç–∞ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ

### –§–∞–∑–∞ 2: –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

5. **–ï—Ç–∞–ø 6** - –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Ç—Ä–µ–Ω—É–≤–∞–Ω—å
6. **–ï—Ç–∞–ø 7.2** - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
7. **–ï—Ç–∞–ø 8** - –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –±–µ–∑–ø–µ–∫–∏

### –§–∞–∑–∞ 3: –†–æ–∑—à–∏—Ä–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

8. **–ï—Ç–∞–ø 3** - –ü—Ä–æ—Ñ—ñ–ª—å —Ç—Ä–µ–Ω–µ—Ä–∞
9. **–ï—Ç–∞–ø 5** - –ü—Ä–æ–≥—Ä–∞–º–∏ —Ç—Ä–µ–Ω—É–≤–∞–Ω—å
10. **–ï—Ç–∞–ø 9** - –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

---

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- –í—Å—ñ –¥–∞—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ UTC, –∫–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ ObjectId MongoDB –¥–ª—è ID
- –õ–æ–≥—É–≤–∞—Ç–∏ –≤—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó (–∞–ª–µ –Ω–µ —á—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ)
- –í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è API (`/api/v1/...`)
- –î–æ–∫—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ API (Swagger/OpenAPI - –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- Environment-based –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (dev, staging, production)
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ transactions –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
